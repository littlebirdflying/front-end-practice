<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<div class="prototype">
    <style>
        .prototype {
            width:50%;
            height:50vh;
            background:url("prototype-1.png") no-repeat;
            /*background-size: 200px 200px;*/
            background-size: contain;
            background-position: center center;
            border:1px solid red;
        }
    </style>
    <h1>原型链</h1>
</div>
</body>
<script>
    /*构造函数*/
    {
        function Foo(name,age){
            this.name = name
            this.age = age
            this.class = 'class-1'
            return this  // 默认有这一行
        }
        let f = new Foo('zs', 20)
        // let f1 = new Foo('ls', 21) //创建多个对象
    }
    /*原型规则*/
    {
        let obj = {}; obj.a = 100;
        let arr = []; arr.a = 100;
        function fn () {}
        fn.a = 100;

        console.log(obj.__proto__);
        console.log(arr.__proto__);
        console.log(fn.__proto__);

        console.log(fn.prototype);

        console.log(obj.__proto__ === Object.prototype);

        // 构造函数
        function Foo(name, age) {
            this.name = name
        }
        Foo.prototype.alertName = function () {
            alert(this.name)
        }
        // 创建示例
        let f = new Foo('zs')
        f.printName = function(){
            console.log(this.name)
        }
        // 测试
        f.printName()
        f.alertName()
        // 循环自身属性
        let item
        for (item in f){
            // 高级浏览器已经在 for in 中屏蔽了来自原型的属性
            // 但建议加上这个判断，保证程序的健壮性
            if(f.hasOwnProperty(item)){
                console.log(item)
            }
        }
    }
    // 原型链
    {
        // 构造函数
        function Foo(name, age) {
            this.name = name
        }
        Foo.prototype.alertName = function () {
            alert(this.name)
        }
        // 创建示例
        let f = new Foo('zs')
        f.printName = function(){
            console.log(this.name)
        }
        // 测试
        f.printName()
        f.alertName()
        f.toString() // 要去 f.__proto__.__proto__中查找
    }
</script>
</html>